<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:AgvDispatch.Mobile.ViewModels"
             xmlns:components="using:AgvDispatch.Mobile.Views.Components"
             xmlns:dto="using:AgvDispatch.Shared.DTOs.Tasks"
             x:Class="AgvDispatch.Mobile.Views.Components.TasksTabView"
             x:DataType="vm:TaskMonitorViewModel">

    <ScrollViewer Padding="12">
        <StackPanel>
            <!-- 任务列表 -->
            <ItemsControl ItemsSource="{Binding ExecutingTaskList}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="dto:TaskListItemDto">
                        <components:TaskCard/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <!-- 空状态提示 -->
            <Border IsVisible="{Binding !ExecutingTaskList.Count}"
                    Background="#F5F5F5"
                    CornerRadius="12"
                    Padding="32"
                    Margin="0,20,0,0">
                <StackPanel Spacing="12" HorizontalAlignment="Center">
                    <PathIcon Data="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"
                              Width="64" Height="64"
                              Foreground="#BDBDBD"
                              HorizontalAlignment="Center"/>
                    <TextBlock Text="暂无执行中的任务"
                               FontSize="16"
                               Foreground="#9E9E9E"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="所有任务都已完成"
                               FontSize="12"
                               Foreground="#BDBDBD"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
