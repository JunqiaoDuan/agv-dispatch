<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AgvDispatch.Mobile.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="360" d:DesignHeight="400"
        x:Class="AgvDispatch.Mobile.Views.Dialogs.SettingsDialog"
        x:DataType="vm:SettingsDialogViewModel"
        Title="设置"
        Width="360"
        Height="400"
        WindowStartupLocation="CenterOwner"
        CanResize="False">

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- 标题栏 -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" Padding="16">
            <StackPanel Spacing="4">
                <TextBlock Text="设置" FontSize="18" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="调整任务监控参数" FontSize="12" Foreground="White" Opacity="0.9"/>
            </StackPanel>
        </Border>

        <!-- 内容区 -->
        <ScrollViewer Grid.Row="1" Padding="16">
            <StackPanel Spacing="24">
                <!-- 自动刷新设置 -->
                <StackPanel Spacing="12">
                    <TextBlock Text="自动刷新"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="#212121"/>

                    <Border Background="White"
                            CornerRadius="8"
                            BoxShadow="0 2 4 0 #10000000"
                            Padding="16">
                        <StackPanel Spacing="12">
                            <Grid ColumnDefinitions="*,Auto">
                                <TextBlock Grid.Column="0"
                                           Text="启用自动刷新"
                                           FontSize="14"
                                           Foreground="#424242"
                                           VerticalAlignment="Center"/>
                                <ToggleSwitch Grid.Column="1"
                                              IsChecked="{Binding AutoRefresh}"
                                              OnContent=""
                                              OffContent=""/>
                            </Grid>

                            <Separator/>

                            <StackPanel Spacing="8">
                                <TextBlock Text="刷新间隔（秒）"
                                           FontSize="14"
                                           Foreground="#424242"/>
                                <Grid ColumnDefinitions="*,Auto">
                                    <Slider Grid.Column="0"
                                            Value="{Binding RefreshIntervalSeconds}"
                                            Minimum="1"
                                            Maximum="10"
                                            TickFrequency="1"
                                            IsSnapToTickEnabled="True"
                                            VerticalAlignment="Center"
                                            Margin="0,0,16,0"/>
                                    <TextBlock Grid.Column="1"
                                               Text="{Binding RefreshIntervalSeconds, StringFormat='{}{0}秒'}"
                                               FontSize="16"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource PrimaryBrush}"
                                               VerticalAlignment="Center"
                                               MinWidth="50"
                                               HorizontalAlignment="Right"/>
                                </Grid>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- 关于信息 -->
                <StackPanel Spacing="12">
                    <TextBlock Text="关于"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="#212121"/>

                    <Border Background="White"
                            CornerRadius="8"
                            BoxShadow="0 2 4 0 #10000000"
                            Padding="16">
                        <StackPanel Spacing="8">
                            <TextBlock Text="AGV调度系统 Mobile"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="#212121"/>
                            <TextBlock Text="版本 1.0.0"
                                       FontSize="12"
                                       Foreground="#757575"/>
                            <TextBlock Text="移动端任务监控与管理"
                                       FontSize="12"
                                       Foreground="#757575"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- 底部按钮栏 -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="0,1,0,0"
                Padding="16">
            <Button Content="确定"
                    Click="OnOkClick"
                    HorizontalAlignment="Stretch"
                    Padding="16,10"
                    CornerRadius="6"
                    Background="{StaticResource PrimaryBrush}"
                    Foreground="White">
                <Button.Styles>
                    <Style Selector="Button:pointerover">
                        <Setter Property="Opacity" Value="0.8"/>
                    </Style>
                </Button.Styles>
            </Button>
        </Border>
    </Grid>
</Window>
